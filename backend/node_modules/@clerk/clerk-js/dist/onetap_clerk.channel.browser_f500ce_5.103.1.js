"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["920"],{1491:function(e,t,n){n.r(t),n.d(t,{OneTap:()=>f});var c=n(3312),o=n(9144),a=n(1576),i=n(4204),l=n(4676),r=n(3799),u=n(2672),s=n(5758),p=n(6352);let d=(0,u.withCardStateProvider)(function(){let e=(0,r.cL)(),{user:t}=(0,r.aF)(),n=(0,a.useEnvironment)(),c=(0,o.useRef)(!1),{navigate:i}=(0,l.useRouter)(),u=(0,a.useGoogleOneTapContext)();async function d(t){c.current=!1;try{let n=await e.authenticateWithGoogleOneTap({token:t.credential});await e.handleGoogleOneTapCallback(n,u.generateCallbackUrls(window.location.href),i)}catch(e){console.error(e)}}let h=n.displayConfig.googleOneTapClientId,f=!t?.id&&!!h;async function _(){let e=await (0,s.g)();return e.accounts.id.initialize({client_id:h,callback:d,itp_support:u.itpSupport,cancel_on_tap_outside:u.cancelOnTapOutside,auto_select:!1,use_fedcm_for_prompt:u.fedCmSupport}),e}let{data:g}=(0,p.ib)(f?_:void 0,"google-identity-services-script");return(0,o.useEffect)(()=>{!g||t?.id||c.current||(g.accounts.id.prompt(t=>{"skipped"===t.getMomentType()&&e.closeGoogleOneTap()}),c.current=!0)},[e,g,t?.id]),(0,o.useEffect)(()=>()=>{g&&c.current&&(c.current=!1,g.accounts.id.cancel())},[g]),null});function h(){return(0,c.tZ)(l.Route,{path:"one-tap",children:(0,c.tZ)(i.Flow.Root,{flow:"oneTap",children:(0,c.tZ)(l.Switch,{children:(0,c.tZ)(l.Route,{index:!0,children:(0,c.tZ)(d,{})})})})})}h.displayName="OneTap";let f=(0,a.withCoreSessionSwitchGuard)(h)}}]);
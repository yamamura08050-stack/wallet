"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["43"],{49327:function(o,t,e){e.d(t,{fB:()=>a,gW:()=>m,uj:()=>B}),e(28419);var n=e(73312),r=e(42305),s=e(48774),i=e(97295),c=e(24676),l=e(31673),u=e(11576),d=e(64204),p=e(96519);let a=o=>{let{navigate:t}=(0,c.useRouter)(),{handleManageAccountClicked:e,handleSignOutSessionClicked:s,handleUserProfileActionClicked:i,session:p}=o,{menutItems:a}=(0,u.useUserButtonContext)(),B=o=>({borderTopWidth:o.borderWidths.$normal,borderTopStyle:o.borderStyles.$solid,borderTopColor:o.colors.$borderAlpha100,padding:"".concat(o.space.$4," ").concat(o.space.$5)}),m=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==o?void 0:o.completedCallback()):n.id===l.Zb.MANAGE_ACCOUNT?await e():(null==n?void 0:n.open)?i(n.open):(null==(r=n.onClick)||r.call(n),null==o?void 0:o.completedCallback())};return(0,n.tZ)(r.eX,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("singleSession"),sx:o=>({borderTopWidth:o.borderWidths.$normal,borderTopStyle:o.borderStyles.$solid,borderTopColor:o.colors.$borderAlpha100}),children:null==a?void 0:a.map(o=>{let t;return t=Object.values(l.Zb).includes(o.id)?{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId(o.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId(o.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId(o.id)}:{elementDescriptor:d.descriptors.userButtonPopoverCustomItemButton,elementId:d.descriptors.userButtonPopoverCustomItemButton.setId(o.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(o.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionItemButtonIcon.setId(o.id)},(0,n.tZ)(r.aU,{...t,icon:o.icon,label:o.name,onClick:o.id===l.Zb.SIGN_OUT?s(p):()=>m(o),sx:B,iconSx:o=>({width:o.sizes.$4,height:o.sizes.$4})},o.id)})})},B=o=>{let{navigate:t}=(0,c.useRouter)(),{handleManageAccountClicked:e,handleSignOutSessionClicked:a,handleSessionClicked:B,handleAddAccountClicked:m,handleUserProfileActionClicked:I,session:v,otherSessions:A}=o,{menutItems:P}=(0,u.useUserButtonContext)(),g=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==o?void 0:o.completedCallback()):n.id===l.Zb.MANAGE_ACCOUNT?await e():(null==n?void 0:n.open)?I(n.open):(null==(r=n.onClick)||r.call(n),null==o?void 0:o.completedCallback())},b=P.every(o=>Object.values(l.Zb).includes(o.id));return(0,n.BX)(n.HY,{children:[b?(0,n.tZ)(r.r5,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("multiSession"),children:(0,n.BX)(d.Flex,{justify:"between",sx:o=>({marginLeft:o.space.$12,padding:"0 ".concat(o.space.$5," ").concat(o.space.$4),gap:o.space.$2}),children:[(0,n.tZ)(r.U8,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("manageAccount"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("manageAccount"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("manageAccount"),icon:p.tc,label:(0,d.localizationKeys)("userButton.action__manageAccount"),onClick:e,focusRing:!0}),(0,n.tZ)(r.U8,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("signOut"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("signOut"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("signOut"),icon:p.lv,label:(0,d.localizationKeys)("userButton.action__signOut"),onClick:a(v),focusRing:!0})]})}):(0,n.tZ)(r.r5,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("multiSession"),sx:o=>({gap:o.space.$1,paddingBottom:o.space.$2}),children:null==P?void 0:P.map(o=>{let t;return t=Object.values(l.Zb).includes(o.id)?{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId(o.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId(o.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId(o.id)}:{elementDescriptor:d.descriptors.userButtonPopoverCustomItemButton,elementId:d.descriptors.userButtonPopoverCustomItemButton.setId(o.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(o.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionItemButtonIcon.setId(o.id)},(0,n.tZ)(r.aU,{...t,icon:o.icon,label:o.name,onClick:o.id===l.Zb.SIGN_OUT?a(v):()=>g(o),sx:o=>({border:0,padding:"".concat(o.space.$2," ").concat(o.space.$5),gap:o.space.$3x5}),iconSx:o=>({width:o.sizes.$4,height:o.sizes.$4}),iconBoxSx:o=>({minHeight:o.sizes.$4,minWidth:o.sizes.$4,alignItems:"center"})},o.id)})}),(0,n.BX)(r.eX,{role:"menu",sx:o=>({borderTopStyle:o.borderStyles.$solid,borderTopWidth:o.borderWidths.$normal,borderTopColor:o.colors.$borderAlpha100}),children:[A.map(o=>(0,n.tZ)(s.K,{icon:p.nR,onClick:B(o),role:"menuitem",children:(0,n.tZ)(i.E,{user:o.user})},o.id)),(0,n.tZ)(r.aU,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("addAccount"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("addAccount"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("addAccount"),icon:p.mm,label:(0,d.localizationKeys)("userButton.action__addAccount"),onClick:m,iconSx:o=>({width:o.sizes.$9,height:o.sizes.$6}),iconBoxSx:o=>({minHeight:o.sizes.$9,minWidth:o.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})]})},m=o=>{let{handleSignOutAllClicked:t,elementDescriptor:e,elementId:s,iconBoxElementDescriptor:i,iconBoxElementId:c,iconElementDescriptor:l,iconElementId:u,label:a,sx:B,actionSx:m}=o;return(0,n.tZ)(r.eX,{role:"menu",sx:[o=>({padding:o.space.$2}),B],children:(0,n.tZ)(r.aU,{elementDescriptor:e||d.descriptors.userButtonPopoverActionButton,elementId:s||d.descriptors.userButtonPopoverActionButton.setId("signOutAll"),iconBoxElementDescriptor:i||d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c||d.descriptors.userButtonPopoverActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:l||d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:u||d.descriptors.userButtonPopoverActionButtonIcon.setId("signOutAll"),icon:p.lv,label:a||(0,d.localizationKeys)("userButton.action__signOutAll"),onClick:t,variant:"ghost",colorScheme:"neutral",sx:[o=>({backgroundColor:o.colors.$transparent,padding:"".concat(o.space.$2," ").concat(o.space.$3),borderBottomWidth:0,borderRadius:o.radii.$lg}),m],spinnerSize:"md"})})}},35241:function(o,t,e){e.d(t,{Z:()=>p}),e(38062),e(50725);var n=e(83799),r=e(76663),s=e(11576),i=e(2672),c=e(57046),l=e(55809),u=e(54264),d=e(24676);let p=o=>{let{setActive:t,signOut:e,openUserProfile:p}=(0,n.cL)(),a=(0,i.useCardState)(),{signedInSessions:B,otherSessions:m}=(0,u.j)({user:o.user}),{navigate:I}=(0,d.useRouter)(),{displayConfig:v}=(0,s.useEnvironment)();return{handleSignOutSessionClicked:t=>()=>0===m.length?e(o.navigateAfterSignOut):e(o.navigateAfterMultiSessionSingleSignOut,{sessionId:t.id}).finally(()=>a.setIdle()),handleManageAccountClicked:()=>{var t;return"navigation"===o.userProfileMode?I(o.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,c._)(300),null==(t=o.actionCompleteCallback)||t.call(o)})()}):(p(o.userProfileProps),null==(t=o.actionCompleteCallback)?void 0:t.call(o))},handleUserProfileActionClicked:t=>{var e;return"navigation"===o.userProfileMode?I(o.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,c._)(300),null==(t=o.actionCompleteCallback)||t.call(o)})()}):(p({...o.userProfileProps,...t&&{__experimental_startPath:t}}),null==(e=o.actionCompleteCallback)?void 0:e.call(o))},handleSignOutAllClicked:()=>e(o.navigateAfterSignOut),handleSessionClicked:e=>async()=>(a.setLoading(),t({session:e,navigate:async t=>{var e;let{session:n}=t;return!n.currentTask&&o.afterSwitchSessionUrl?void await I(o.afterSwitchSessionUrl):o.taskUrl?void await I(o.taskUrl):void await (0,r.W8)(n,{baseUrl:null!=(e=o.signInUrl)?e:v.signInUrl,navigate:I})}}).finally(()=>{var t;a.setIdle(),null==(t=o.actionCompleteCallback)||t.call(o)})),handleAddAccountClicked:()=>((0,l.T7)(o.signInUrl||window.location.href),(0,c._)(2e3)),otherSessions:m,signedInSessions:B}}}}]);